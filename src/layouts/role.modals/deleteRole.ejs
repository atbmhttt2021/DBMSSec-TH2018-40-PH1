<!-- Modal Delete -->
<form class="modal fade" id="delModal">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
        <div class="modal-header border-0 mx-auto">
            <h6 class="modal-title">Đồng ý xóa vai trò
            <span id="inputRole"></span>?</h6>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-footer border-0 mx-auto">
            <button type="submit" class="btn btn-danger" >Xóa</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
        </div>
        
        </div>
    </div>
</form>

<script>
    // Delete 
    $("#delModal").submit(function(e){
        e.preventDefault();
        const role = $('#delModal #inputRole').text();
        $.ajax({
            url: `/roles/${role}`,
            type: 'DELETE',
        }).done(function (data) {
            Swal.fire({
            title: 'Hoàn thành!',
            icon: 'success',
            confirmButtonText: 'Ok'
            }).then((result) => {
            window.location.reload();
            })
        }).fail(function (error) {
            console.log('error', error)
            Swal.fire({
            title: 'Lỗi!',
            text: "Không tồn tại hoặc không có quyền xoá vai trò",
            icon: 'error',
            confirmButtonText: 'Cool'
            })
        });
    });
</script>